## 1 背景

数据分析服务平台（下午简称数格数分平台，或数分平台）。



## 2 数据分析服务平台与数格平台的关系

​	数格分析服务平台是数格的 6 个子模块之一，是利用数据进行加工并产生附加 价值的场所。对内对接 数据管理平台，对外为数据研发与分析人员提供相关服务。数 据管理平台向分析服务平台提供接口开放数据资源目录的访问与相关数据的取出与 写回。图1 为数格系统架构图，展示了数分平台在数格系统中与其他模块的关系。



## 3 使用对象

​	从使用人员角度考虑，数格分析平台的使用对象为 数据科学研发人员与 数据分 析师两类。

### 3.1 作为数据科学研发人员使用

​	数据科学研发人员使用该平台进行对数据的探索分析，尝试建立不同的模型，并 对成熟模型进行固化开发以备调用。

#### 3.1.1 描述性分析

​	描述性分析结合统计算法和可视化方式将数据包含的信息展示出来，用于描述数 据所代表的一般性现象。如计算一组观测数据的均值、中位数、众数、标准差、方差、 极值，通过这些统计量描述观测数据所描述的业务信息。再如使用柱状图、折线图、 饼图、直方图描述观测数据的变化趋势和分布情况。对于多维数据，有时需尝试使用 相关分析结合散点图来探索观测变量之间的关系。 描述性分析一方面有固定套路可循（如上述的统计与可视化方式），另一方面也 是发散性的。研究人员会根据不同的业务场景与数据自身的情况进行多样的尝试性 分析。

#### 3.1.2 建模研究

​	数格分析平台中建模工作是有针对性的进行问题求解。这些建模研究分为两类： 数据挖掘建模 (knowledge discovery in database modeling, KDDM) 建模与数据驱动 决策建模 (data-driven decision modeling, DDDM)。

​	数据挖掘建模目标是在大量的数据集中提取出模式与知识，通常综合使用到统计 学、机器学习、数据库等相关领域知识。所建立的模型能够基于数据对未知目标进行 预测与分类、聚类、降维、异常检测等分析。 数据驱动决策建模是指在数据分析的基础上进行决策分析，针对实际问题的不同 会涉及到大量优化求解的过程。例如：线性规划、动态规划、启发式算法、随机方法 等。决策模型的输入往往基于数据挖掘模型的结果，其输出是计算出相关问题的最优 决策解。 两类建模研究的输入包括：干净数据载入；模型的算法设计或原型模型调用；模 型求解与参数调优；模型测试。输出是可直接调用的模型，输入所需计算数据时可计 算出预测结果或最优决策。

#### 3.1.3 模型固化开发

​	模型固化开发对建模研究的最终产物进行固化封装，固化后的模型具备以下特 性：持久性、可调用、性能提升、通用性。

### 3.2 作为数据分析人员使用

​	相对于数据科学研发，数据分析人员在平台上较少进行建模开发，而主要开展描 述性分析，以及调用固化模型进行分析结果的输出。 数据分析人员日常工作涉及到分析的执行与报告编写，在分析执行的过程中也会 对结果进行大量的可视化工作，以便于报告中信息的有效传达。



## 4 需求功能点



### 4.1 线上分析

#### 4.1.1 简介

​	线上分析模块是重要的最模块，主要为笔记本(Notebook)形式，笔记本将基于控制台的方法扩展到交互式计算方面，提供了一个基于Web的应用程序。



#### 4.1.2 主要功能

##### 1 交互式分析模块

###### 1.1 Web 应用程序

  1. 用于代码的浏览器内编辑，自动语法高亮显示，缩进和制表符完成/内省

  2. 从浏览器执行代码的能力，计算结果附加在生成它们的代码上。

  3. 使用富媒体表示显示计算结果，如HTML，LaTeX，PNG，SVG等。例如，matplotlib库提供的出版质量数字可以内联包含。

  4. 使用Markdown标记语言进行富文本的浏览器内编辑，可以为代码提供注释，但不限于纯文本。

  5. 使用LaTeX轻松地将数学符号包含在降格单元格中，并由MathJax本地渲染的功能。

  6. 代码控制台为交互式运行代码提供暂存便笺簿，全面支持丰富的输出。例如，代码控制台可以链接到笔记本内核作为笔记本计算日志。

  7. 内核支持的文档可以使任何文本文件（Markdown，Python，R，LaTeX等）中的代码在任何Jupyter内核中以交互方式运行。

  8. Notebook笔记本电脑输出可以与笔记本电脑并排显示在自己的选项卡中，从而实现带有由内核支持的交互式控件的简单仪表板。

  9. 使用不同编辑者或查看者的多个文档视图可以实时编辑其他查看者反映的文档。例如，Markdown，定界符分隔值或Vega / Vega-Lite文档的实时预览很容易。

  10. 集成和可扩展的方式处理文档和活动，使用选项卡和拆分器将多个文档和活动并排排列在工作区域中。文档和活动相互结合，为交互式计算提供新的工作流程 。

      

###### 1.2 笔记本文件

1. Notebook文档包含交互式会话的输入和输出以及代码附带的其他文本，但不适用于执行.
2. 笔记本文件可以充当会话的完整计算记录，将可执行代码与解释性文本，数学和结果对象的丰富表示交织在一起。 
3. 文档是内部的JSON文件，并以`.ipynb`扩展名保存。由于JSON是纯文本格式，因此可以通过版本控制并与同事共享。 

##### 2 用户管理模块

1. 用户认证

2. 用户核心管理

3. 用户数据管理

   

1. 权限管理：用户可以访问而且只能访问自己被授权的资源

 2. 各用户拥有的工作空间和环境：用户根据需求自定义Notebook核心，
 3. 用户间共享信息（数据、文档、模板、模型等）的渠道 
 4. 支撑 20-50 用户使用的稳定性

##### 3 资源管理模块

​	资源管理主要对模型管理以及数据管理的操作：

​	模型管理：用户对单个功能化代码进行保存，修改，重用等。更好的提供工作化境以及工作效率。

​	数据管理：用户对数据的权限进行管理，确保数据的安全性。

1. 

### 4.2 报告系统

##### 4.2.1 概述

​	报告系统是用于生产专业分析报告或其他专业文档的线上编辑环境。使用 Markdown 和 L ATEX 语言作为编译内核，输出 PDF 格式的出版物。 Markdown 是一种轻量级标记语言 (LML)，具有易读性、轻便、跨平台等特性， 支持图片、表格、链接、公式、多级标题、引用等功能。L ATEX 是一种用于创建专业 外观文件的工具。用户在 L ATEX 环境下，模板中输入仅需要以纯文本输入相关内容， 格式处理与排版由 L ATEX 和所用模板负责处理。 Markdown 与 L ATEX 作为报告系统的文本编辑语言使用场景有所不同，轻量级标 记语言用于日常非正式的文档生产，LATEX 用于正式的文档生产。系统应提供转换机 制使两种格式的文本相互之间可进行转换。 

##### 4.2.2 主要功能

1. 始终与合作伙伴及他们正在做的事情保持同步。每个人都有权访问的每个文档只有一个主版本。不可能做出相互冲突的更改，而且您无需等待同事向您发送最新的草稿，然后才能继续工作。 

2. 包含所有更改的历史记录，以便您可以准确查看谁更改了什么以及何时更改。这使得您可以非常轻松地了解您的协作者所取得的进展，并且允许您查看最近的工作。 

3. 转换机制能使多种输出选择，格式处理与排版均由系统处理，更好的用于生产分析报告与其他文档的线上编辑环境。

   

## 5 功能要点

### 5.1 	1.0 开发

​	数格数据分析服务平台 Ver 1.0 着重实现基于开源框架的两大子功能平台的基本 功能的可用性。

### 5.2 2.0 开发 

​	数格数据分析服务平台 Ver 2.0 着重实现两大子功能平台的相互融合, 其中统一 权限管理、版本控制是着重开发与完善的功能。

### 5.3 3.0 开发 

​	数格数据分析服务平台 Ver 3.0 着重开发实现数格品牌标签的功能, 包括实现全 生命周期数据管理服务。